# HTTP

超文本传输协议(Hyper Text Transfer Protocol)，客户端和服务器端通信时，发送数据的格式

特点：

1. 基于 `TCP/IP` 的高级协议
2. 默认端口号:80
3. 基于 `请求/响应` 模型的: 一次请求对应一次响应
4. 无状态的：每次请求之间相互独立，不能交互数据

## 请求消息

### 请求行

格式：`请求方式 请求URL 请求协议/版本`，如：`GET /login.html HTTP/1.1`

请求方式：HTTP 协议有 7 中请求方式，常用的有2种

+ GET：
  1. 请求参数在请求行中，在 URL 后
  2. 请求的 URL 长度有限制的
  3. 不太安全
+ POST：
  1. 请求参数在请求体中
  2. 请求的 URL 长度没有限制的
  3. 相对安全

协议版本：

+ 1.0：每一次请求响应都会建立新的连接
+ 1.1：复用连接

### 请求头

客户端浏览器告诉服务器一些信息

格式：`请求头名称: 请求头值`

常见的请求头：

+ `User-Agent`：浏览器告诉服务器，使用的浏览器版本信息，可以在服务器端获取该头的信息，解决浏览器的兼容性问题

+ `Referer`：告诉服务器，当前请求从哪里来，可以用来防盗链和统计

### 请求空行

空行，就是用于分割 POST 请求的请求头，和请求体的

### 请求体

用来封装 POST 请求消息的请求参数

## 响应消息

### 响应行

格式：`协议/版本 响应状态码 状态码描述`

状态码：

+ 1xx：服务器就收客户端消息，但没有接受完成

+ 2xx：成功
  + 200：成功

+ 3xx：重定向
  + 302：重定向
  + 304：资源未修改，访问缓存

+ 4xx：客户端错误
  + 400：请求无效
  + 403：禁止访问
  + 404：找不到资源
  + 405：资源被禁止

+ 5xx：服务器错误
  + 501：未实现
  + 502：网关错误

### 响应头

常见的响应头：

+ `Content-Type`：服务器告诉客户端本次响应体数据格式以及编码格式
  + 1
  + 1

+ `Content-disposition`：服务器告诉客户端以什么格式打开响应体数据
  + `in-line`：默认值,在当前页面内打开
  + `attachment;filename=xxx`：以附件形式打开响应体。文件下载

### 响应空行

### 响应体

传输的数据
