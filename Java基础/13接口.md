# 接口

接口就是多个公共类的公共规范。

格式：

```java
public interface 接口名称 {
  // 接口内容
}
```

换成 interface 关键字后，编译生成的字节码文件仍然是 .class 文件。

接口可以包好以下内容：

如果是 java 7，可以包含有：1.常量；2.静态方法

如果是 java 8，还可以额外包含有：3.默认方法；4.静态方法

如果是 java 9，还可以额外包含有： 5.私有方法

接口中的抽象方法的修饰符必须是：public abstract

接口使用步骤：

1. 接口不能直接使用，必须有一个实现类来实现(implements)该接口。

2. 接口的实现类，必须覆盖重写(实现)接口中所有的抽象方法。

3. 创建实现类的对象，进行使用。

```java
public class 实现类名称 implements 接口名称 {
  // ...
}
```

如果实现类没有全部覆盖重写接口的所有抽象对象，那么这个实现类必须是抽象类。

从 java 8 开始，接口允许定义默认方法。

接口中的默认方法可以解决接口升级问题。

```java
public default 返回值类型 方法名称(参数列表) {
  方法体
}
```

接口的默认方法，可以通过接口实现类对象直接调用。

接口的默认方法，可以被接口实现类进行覆盖重写。

从 java 8 开始，接口允许定义静态方法。

接口静态方法直接通过接口名直接调用。

```java
public static 返回值类型 方法名称(参数列表) {
  方法体
}
```

从 java 9 开始，接口可以定义私有方法。私有方法不能在实现类使用。

私有方法可以解决默认方法或静态方法之间重复代码问题。

```java
// 普通私有方法，解决多个默认方法之间重复代码问题
private 返回值类型 方法名称(参数列表) {
  方法体
}

// 静态私有方法，解决多个静态方法之间重复代码问题
private static 返回值类型 方法名称(参数列表) {
  方法体
}
```

接口中可以定义常量，但必须使用 public static final 三个修饰符。

可以省略 public static final不写，但不写也是这些。

一旦使用 final 关键字进行修饰，说明不可改变。

接口中的常量必须进行手动赋值。

常量名称使用完全大写字母，用下划线进行分割。

接口内容总结：

+ 成员变量其实是常量
  + 格式：[public] [static] [final] 数据类型 常量名称 = 数据值;
  + 常量必须手动赋值，一旦赋值不能改变。
  + 常量名完全大写，用下划线进行分割。

+ 接口中最重要的就是抽象方法
  + 格式：[public] [abstract] 返回值类型 方法名称(参数列表);
  + 实现类必须覆盖重写接口所有抽象方法，除非实现类是抽象类。

+ 接口允许定义默认方法(java 8 开始)
  + 格式：[public] default 返回值类型 方法名称(参数列表) {方法体}
  + 默认方法可以被覆盖重写。

+ 接口允许定义静态方法(java 8 开始)
  + 格式：[public] static 返回值类型 方法名称(参数列表) {方法体}
  + 通过接口名称直接调用接口静态方法，不能通过实现类对象调用。

+ 接口允许定义私有方法(java 9 开始)
  + 普通私有方法：private 返回值类型 方法名称(参数列表) {方法体}
  + 静态私有方法：private static 返回值类型 方法名称(参数列表) {方法体}
  + 私有方法只有接口自己才能调用，不能被别人使用。

注意事项：

+ 接口没有静态代代码块或构造方法。
+ 一个类的直接父类只有一个，但可以实现多个接口
+ 如果实现类所实现的多个接口中，存在重复的抽象方法，那么只需要覆盖重写一次。
+ 如果实现类没有覆盖重写所有接口中的所有抽象方法，那么实现类必须是一个抽象类。
+ 如果实现类所实现的多个接口中存在重复的默认方法，那么实现类必须对冲突的默认方法覆盖重写。
+ 如果一个类的直接父类中的方法和接口中的默认方法冲突，有限使用父类中的方法。
+ 多个父接口中的默认方法如果重复，那么子接口必须覆盖重写默认方法，而且必须带 default 关键字。

```java
public class MyInterfaceImpl implements MyInterfaceA, MyInterfaceB {
  // 覆盖重写所有接口的抽象方法
  // 如果存在重复的抽象方法，那么只需要覆盖重写一次
}
```

接口与类：

+ 类与类之间是单继承的，直接父类只有一个。
+ 类于接口之间是多实现的，一个类可以实现多个接口。
+ 接口与接口之间是多继承的。
